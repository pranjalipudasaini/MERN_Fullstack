{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from\"axios\";import toast from\"react-hot-toast\";import\"./user.css\";import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const User=()=>{const[users,setUsers]=useState([]);useEffect(()=>{const fetchData=async()=>{const response=await axios.get(\"http://localhost:8000/api/getall\");setUsers(response.data);};fetchData();},[]);const deleteUser=async userId=>{await axios.delete(\"http://localhost:8000/api/delete/\".concat(userId)).then(respones=>{setUsers(prevUser=>prevUser.filter(user=>user._id!==userId));toast.success(respones.data.msg,{position:'top-right'});}).catch(error=>{console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"userTable\",children:[/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"addButton\",children:\"Add User\"}),/*#__PURE__*/_jsxs(\"table\",{border:1,cellPadding:10,cellSpacing:0,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map((user,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsxs(\"td\",{children:[user.fname,\" \",user.lname]}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsxs(\"td\",{className:\"actionButtons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(user._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"})}),/*#__PURE__*/_jsx(Link,{to:\"/edit/\"+user._id,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pen-to-square\"})})]})]},user._id);})})]})]});};export default User;","map":{"version":3,"names":["React","useEffect","useState","axios","toast","Link","jsx","_jsx","jsxs","_jsxs","User","users","setUsers","fetchData","response","get","data","deleteUser","userId","delete","concat","then","respones","prevUser","filter","user","_id","success","msg","position","catch","error","console","log","className","children","to","border","cellPadding","cellSpacing","map","index","fname","lname","email","onClick"],"sources":["C:/Users/A C E R V 1 5/OneDrive/Desktop/cloud assignment/client/src/components/getUser/User.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport \"./user.css\";\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst User = () => {\r\n\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(()=>{\r\n\r\n    const fetchData = async()=>{\r\n        const response = await axios.get(\"http://localhost:8000/api/getall\");\r\n        setUsers(response.data);\r\n    }\r\n\r\n    fetchData();\r\n\r\n  },[])\r\n\r\n  const deleteUser = async(userId) =>{\r\n      await axios.delete(`http://localhost:8000/api/delete/${userId}`)\r\n      .then((respones)=>{\r\n        setUsers((prevUser)=> prevUser.filter((user)=> user._id !== userId))\r\n        toast.success(respones.data.msg, {position: 'top-right'})\r\n      })\r\n      .catch((error) =>{\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='userTable'>\r\n        <Link to={\"/add\"} className='addButton'>Add User</Link>\r\n        <table border={1} cellPadding={10} cellSpacing={0}>\r\n            <thead>\r\n                <tr>\r\n                    <th>S.No.</th>\r\n                    <th>User name</th>\r\n                    <th>User Email</th>\r\n                    <th>Actions</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                    users.map((user, index)=>{\r\n                        return(\r\n                        <tr key={user._id}>\r\n                            <td>{index + 1}</td>\r\n                            <td>{user.fname} {user.lname}</td>\r\n                            <td>{user.email}</td>\r\n                            <td className='actionButtons'>\r\n                                <button onClick={()=> deleteUser(user._id)}><i className=\"fa-solid fa-trash\"></i></button>\r\n                                <Link to={`/edit/`+user._id}><i className=\"fa-solid fa-pen-to-square\"></i></Link>\r\n                            </td>\r\n                        </tr>\r\n                        )\r\n                    })\r\n                }\r\n                \r\n            </tbody>\r\n        </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}